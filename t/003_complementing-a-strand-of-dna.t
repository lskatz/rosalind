#!/usr/bin/env perl
use strict;
use warnings;
use Data::Dumper;
use Test::More tests=>2;

our @NT = qw(A C G T);

subtest 'sample data' => sub{
  my %expected = (
    'GATGGAACTTGACTACGTAAATT' => 'GAUGGAACUUGACUACGUAAAUU',
  );

  plan tests => scalar(keys(%expected));

  while(my($dna,$exp) = each(%expected)){
    my $obs = transcribe($dna);
    is($obs, $exp, $dna);
  }
};

subtest 'real data' => sub{
  my $expected = "AAGAUUGCACAUGCGUCGGUUACAUCAGGUUCUCCGUGCGCUACGUGAAGCGAGGACUCAGACCCGUUGGCUUGUGUCGCAGUCACUAUCCACCGUUGCAAACGUUGACGGAACACUUAGAAUUAUCUGCUAGGCAGAAACUUGACGCAUUUCCUGUCGAUAGACAAUUGCCCCACACCGCAUUGUAGGUCGGGACAUGGAGCGUCACUUAUCACGAGGGUUAGAGACGAUUUCCUGCAUGUUUGCAACGCACCGUAAACGUAUUGCGUAAUUCUGGGUCAUCAUCUGAGACGUUGCCACCCGAUGAUGGUAACAACACGCAGGGAAGUUACUUGGUCACUGCGUAUGUCCCCGCUGUAAUCGCUUUCGUAGUUACAGGCAGGAUGUUCCCUAGCCUCACCGUCCGGGCUACCCGUCGAGGGUUGCGAUCGGCGAAUAAGGGCCCUAGACUCUCGACCAUGUAUUGUGAUAGUGCUUCUGACGUAGGCGAGCCUAUGGGCGAAACCCUGGUCAUUGUAGGGAUUGAAUACGAGAUACGUUAAUCAGCGGAAGGGGACUACGUGUGAAGGCAAUCAACAGAAAUUCCGCAAGUCUCCGGCCUAUCCCAUAAAUGUAACAGGGGCCGCGUAGCGACUACCGCAAGAAUGGGGUGGGCAUAUCGAACGAGACGACGGCCAAGAGAGAGGGGCACAGAUUCCCAGAUUCAGGCCAAAUGUACGGCUCGCUUCUUAUUCAAAUGGAGUGUCUAUCAUCGCGUAUGGGCCAUUCCACGUUACGGGUGCGACCUGGGAAAGGACAUGUUACCGGUGGAUGUGAGUCCAGUUCGAGGGAACGUGAUAUUGAGGUUUUUUCGAUACGAACUGUGUUACCUCUUCUCAAUUAGGGGUAGGGGAUUUUAAAGCUAGCACCUCAAUGGGCUUUGCCGGUGAAUCUUAAGUGUGUGUAAUGGAGUUUCGGCGGUUGUUCCUGAUGUUUC";
  my $dna = <DATA>;
  chomp($dna);
  my $obs = transcribe($dna);
  is($obs, $expected, $dna);
};

sub transcribe{
  my($dna) = @_;

  $dna =~ tr/T/U/;
  return $dna;
}

__DATA__
AAGATTGCACATGCGTCGGTTACATCAGGTTCTCCGTGCGCTACGTGAAGCGAGGACTCAGACCCGTTGGCTTGTGTCGCAGTCACTATCCACCGTTGCAAACGTTGACGGAACACTTAGAATTATCTGCTAGGCAGAAACTTGACGCATTTCCTGTCGATAGACAATTGCCCCACACCGCATTGTAGGTCGGGACATGGAGCGTCACTTATCACGAGGGTTAGAGACGATTTCCTGCATGTTTGCAACGCACCGTAAACGTATTGCGTAATTCTGGGTCATCATCTGAGACGTTGCCACCCGATGATGGTAACAACACGCAGGGAAGTTACTTGGTCACTGCGTATGTCCCCGCTGTAATCGCTTTCGTAGTTACAGGCAGGATGTTCCCTAGCCTCACCGTCCGGGCTACCCGTCGAGGGTTGCGATCGGCGAATAAGGGCCCTAGACTCTCGACCATGTATTGTGATAGTGCTTCTGACGTAGGCGAGCCTATGGGCGAAACCCTGGTCATTGTAGGGATTGAATACGAGATACGTTAATCAGCGGAAGGGGACTACGTGTGAAGGCAATCAACAGAAATTCCGCAAGTCTCCGGCCTATCCCATAAATGTAACAGGGGCCGCGTAGCGACTACCGCAAGAATGGGGTGGGCATATCGAACGAGACGACGGCCAAGAGAGAGGGGCACAGATTCCCAGATTCAGGCCAAATGTACGGCTCGCTTCTTATTCAAATGGAGTGTCTATCATCGCGTATGGGCCATTCCACGTTACGGGTGCGACCTGGGAAAGGACATGTTACCGGTGGATGTGAGTCCAGTTCGAGGGAACGTGATATTGAGGTTTTTTCGATACGAACTGTGTTACCTCTTCTCAATTAGGGGTAGGGGATTTTAAAGCTAGCACCTCAATGGGCTTTGCCGGTGAATCTTAAGTGTGTGTAATGGAGTTTCGGCGGTTGTTCCTGATGTTTC
