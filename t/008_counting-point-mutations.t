#!/usr/bin/env perl
use strict;
use warnings;
use Data::Dumper;
use Test::More tests=>2;
use Bio::SeqIO;

subtest 'sample data' => sub{
  my $input = 'GAGCCTACTAACGGGAT
CATCGTAATGACGGCCT';
  my $exp = 7;
  
  my $distance = hamming($input);
  is($distance, $exp);
};

subtest 'real data' => sub{
  local $/  = undef;
  my $input = <DATA>;
  my $exp   = 489;
  my $obs   = hamming($input);

  is($obs, $exp);
};

sub hamming{
  my($input) = @_;

  my ($seq1,$seq2) = split(/\n/, $input);

  my $distance;
  for(my $i=0;$i<length($seq1);$i++){
    my $nt1 = substr($seq1, $i, 1);
    my $nt2 = substr($seq2, $i, 1);
    if($nt1 ne $nt2){
      $distance++;
    }
  }

  return $distance;
}

__DATA__
GTGCTATTCAGCCGGAAGACCACTACAAATAACGCGTATGTATTGACTGCATACCTGATGCACAGCAGCTAAAAAATTGACATACAGCCGTACTCAAACGCTACAGTACCGGAATGCCTGTTCTCGAGAGATTGTTCAGAGAACGATGTCACGGACCGGTTAACCGGCCCCGTCGTCATATCCATACTGACGTAGTCCGTGCGTTAAAACCGCGCGCGTTAACCCGAGGAGTCCTTTGATGGGGCTCTTCGCCAACCATACGACCTGGCCCCCAAGTTTCGAGGTATCTTAACTTCCTATAACAGCTAACGCCTACATTTTGAAAGGAAACTGTACGTGGTCCTGTTGTGTCCCCATACCCAGGTAGATCGGGGCCACATCGCTCGGTAAAGCCTCGAAGCGATGTTGTGCGAGCGACTCGAAGTGGGAGGAGGATTTACCTTATCAGCGAAACAGGCACACTGGAGGGTTATCTGAATCCGTCGTGAATGACAGCTCTTTCAACTGGAGCGTTAACATGTGTCGGGCACACAACCTCAGTCATCGTGTCCCACCGAGTCATATGGGACCGATTATCGGAGTCGCGTGTTGTAAGCCGGGTCAATCTACAGATTGTCACAAACCCCCCAAAAGGAGTCAGATAACCGAGAGTAGAACAGTAACCGGTCCTCAGACTGCAGGTCGGCTCTATAGGACTCCTTTTGCACTATTGCAATAAAGCGTGAACGACAGATTGGGCTTTAGATATCATACAGAAGTAGTTTTCTCAAGTGCGGTCTCCCTTGCACCCCCATAGAGCAGTGTGATCCCTTTTGACGACCCAAAGTCGCTTATCGACGGTACCTTATGAAAGTGCGGTGCCATCTTAGACCTCATGGGGGCCCAACGATTTTTTCTCTGAAGCACCCTTGATGACATAGCCAGGCGACCAACTGAGCGGCCATTTTACTCATATTGTCGATCAGCGCCGATGA
ATGTTAAGCAGCTTGCTAATAGCCACGGCGAAATCGTATGTAAACGTTAGCCACCTCCCAGACTGCGGCTAAGCACATGCACCTCTGCCCCATACTCCTCGAATATACTCAGTACGCGTACTGTGCACATACCGTTTGCTGTCCGATTTGAGCTGCGAATTAAACCGAGCAGTGTGCGTCTCCCCGATGACCTTTCCCTTTTTTAACGAGCTCGCTAGTTAATCCGAAAAGTCATGTCACCGTACGTTGCGTCCATTGCAATTCCTGAATCACAAGTCATGGCGCAATAGATGCTAATAAAACAACTTTTACTAAACTTTTGAACGCATCAAACCCGGGGTATGGTACTGGCCGGATTCCCGAGCTTGTCTCCCGGACATTCCTCGGCAACACCTACTAATAATATTCTGCGTCCAACCCGAAGCAGGTGGATGAGTTGTCTACAACACTAATTGGGCAAACTGCCATCGTATCTCATTCCGTAGGTGTAGCCACACCTATCCACTCTAGAGCTATCCGGCATAAGCAAGGTAAACTCCGCAAGCCTTGCCGATCAAGTGTTATGAGAAAGATTGTTGCATCCTATGTCGGTCGGCGGAAGCTACTCACAGACACTCACCGCCCCTGATGACGGAGTCGGCGACAGTCTAGTACGACCCTAACTCGACGCGGCACCACCCCTGTGCTCTCTAGGACCACATTGGAACGAACGCTATTAAGCAAGGAACCCAGTTAAATGTGTGGGTATCAGTCGACTACATCTATTTCCAGTCATGTGTCCTTTATCGCCCTCTGGAGGTTAGTATGGTCGTAAGGGGACACACAGTCTGAGGCCCACCGAAACTACCGAAAGCCGGTAGCCCTCACCGAGTCATATAGTGCCGCTAGGTGTTCATACGGCGGGAGCCGCGAATAAAAGGCCACGCGGAAAAGCCCTCGGAACTATTACACTAATTGGCGATCACCGCTGATGG
